# ****************************************************************
# CAUTION: ANY CHANGES TO DEFAULT APPLIES TO ALL SECTIONS
#          IF NOT OVERWRITTEN LOCALLY
# ****************************************************************
# Usage:
# [build target name]
# pkgs =        # list of packages generated by the make target
#               # multiple packages are comma separated or with
#               # new lines
#
# pkg_pattern = # pattern to match packages. would be used
#               # packager to pick packages from given directory
#
# builtloc =    # location where packages are copied after built
#               # these path are taken relative to sandbox
#
# makeloc =     # location where make command has to issued
#               # these path are taken relative to git local repo
# Note:
# Sections are grouped as Individual targets, default targets and
# wrapper package. Place your new targets appropriately.
#
# This Config file is name without prefix 'contrail_' intentionally
# to avoid being picked up by default
# *****************************************************************

##############################################################################
# Default Section
# Values defined in default section applies to variables in all sections
# unless they're are overriden in the section

[DEFAULT]
pkgs          =
pkg_pattern   = {pkg}_[0-9]*.deb
builtloc      = build/debian/
target        = %(__name__)s
makeloc       =
package_type  =

###############################################################################
# Individual target sections

#Virtual Target; Just picks up already built packages
[contrail-openstack-packages]
pkgs      = nova-api, nova-cells, nova-common, nova-compute,
            nova-compute-kvm, nova-conductor, nova-console,
            nova-consoleauth, nova-novncproxy,
            nova-scheduler, nova-compute-libvirt, python-nova,
            nova-docker
target    =
builtloc  =
package_type  = contrail-openstack-packages

[contrail-docker-images]
pkgs          = contrail-ansible, contrail-controller-u14.04,
                contrail-analytics-u14.04, contrail-agent-u14.04,
                contrail-lb-u14.04, contrail-analyticsdb-u14.04
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-docker-images
builtloc      =
target        =
sub_package_type = database-openstack-extra, cfgm-openstack-extra

[contrail-packages-docker]
pkgs          = contrail-vrouter-agent, contrail-vrouter-dkms,
                contrail-vrouter-dpdk, contrail-vrouter-source,
                contrail-vrouter-utils, python-contrail, python-contrail-vrouter-api,
                contrail-vrouter-3.13.0-106-generic, python-opencontrail-vrouter-netns,
                contrail-utils, neutron-plugin-contrail,
                python-neutronclient, contrail-lib,
                contrail-nova-vif, contrail-openstack-vrouter,
                contrail-setup, contrail-vrouter-common, contrail-vrouter-agent,
                contrail-vrouter-dkms, contrail-vrouter-init,
                contrail-fabric-utils
package_type  = contrail-packages-docker
builtloc      =
target        =

[contrail-docker-networking]
pkgs          =
package_type  = contrail-docker-networking
builtloc      =
target        =
sub_package_type = contrail-docker-images, contrail-packages-docker,
                   contrail-dependent-packages-docker, vrouter-openstack-extra,
                   contrail-thirdparty-packages-docker

[contrail-docker-cloud]
pkgs          = contrail-puppet
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-docker-cloud
builtloc      =
target        =
sub_package_type = contrail-docker-images, contrail-packages-docker,
                   contrail-openstack-packages-docker, vrouter-openstack-extra,
                   contrail-dependent-packages-docker, contrail-thirdparty-packages-docker,
                   contrail-openstack-packages
