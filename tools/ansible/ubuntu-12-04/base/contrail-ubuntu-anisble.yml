##
# Ansible playbook for installing contrail build needed packages on server on Ubuntu 12.04.3 LTS.
#


- hosts: contrail 
  user: root
  tasks:
    ##
    # Apt package installation of required software.
    #
    - name: Install required public repository packages.
      action: apt pkg={{ item }} state=present
      with_items:
        - ant
        - automake
        - bison
        - debhelper
        - devscripts
        - fakeroot
        - libcppunit-dev
        - libevent-dev
        - libssl-dev
        - libtool
        - libxml2-dev
        - libxslt1-dev
        - nfs-common
        - scons
        - sysv-rc-conf
        - xml-core
        - git
        - scons
        - gcc
        - flex
        - bison
        - make
        - libbz2-dev
        - g++
        - libssl-dev
        - automake
        - python-dev
        - xml-core
        - python-lxml
        - python-setuptools
        - python-sphinx
        - fakeroot
        - dh-make
        - fabric
        - ant
        - openjdk-6-jdk
        - alien
        - python-eventlet
        - python-paste
        - pkg-config
        - python-dev
        - python-lxml
        - python-pip
        - python-setuptools
        - python-sphinx
        - pkg-config
        - python-pip
        - python-virtualenv
        - curl
        - fab
        - cdbs
        - libncurses5-dev 
        - libreadline-dev 
        - libgnutls-dev
        - python-all-dev
        - libavahi-client-dev 
        - libsasl2-dev
        - libxen-dev 
        - open-iscsi-utils 
        - libgcrypt11-dev
        - libparted0-dev
        - libdevmapper-dev 
        - uuid-dev 
        - libudev-dev 
        - libpciaccess-dev 
        - policykit-1
        - libpolkit-gobject-1-dev
        - libcap-ng-dev 
        - libnl-3-dev 
        - libyajl-dev 
        - libpcap0.8-dev 
        - libnuma-dev 
        - radvd 
        - build-essential 
        - python-software-properties
        - libxml2-utils 
        - libapparmor-dev
        - linux-headers-3.2.0-51 
        - linux-headers-3.2.0-58
        - linux-headers-3.2.0-51-generic 
        - linux-headers-3.2.0-58-generic

    ##
    # Run the wget commands needed.
    #

    - name: Run wget commands
      command: wget -O /usr/local/bin/repo http://commondatastorage.googleapis.com/git-repo-downloads/repo

    ##
    # Set permissions under /bin.
    #
    - name: set permissions
      file: path=/usr/local/bin/repo  mode=0755 

